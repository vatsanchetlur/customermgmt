{"ast":null,"code":"import _objectSpread from\"/Users/n0096336/Downloads/FullStack/capstone2/customer-management-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import CustomerForm from'./CustomerForm';import CustomerList from'./CustomerList';import{getCustomers,addCustomer,updateCustomer,deleteCustomer}from'../services/customerService';import'../styles/styles.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[customers,setCustomers]=useState([]);const[selectedCustomer,setSelectedCustomer]=useState(null);useEffect(()=>{const fetchCustomers=async()=>{const data=await getCustomers();setCustomers(data);};fetchCustomers();},[]);const handleAddCustomer=async customer=>{const newCustomer=await addCustomer(customer);setCustomers([...customers,newCustomer]);};const handleUpdateCustomer=async customer=>{// Use the customer's id to update the correct customer\nconst updatedCustomer=await updateCustomer(customer.id,customer);setCustomers(customers.map(c=>c.id===customer.id?updatedCustomer:c));setSelectedCustomer(null);};const handleDeleteCustomer=async id=>{await deleteCustomer(id);setCustomers(customers.filter(c=>c.id!==id));setSelectedCustomer(null);};const handleSelectCustomer=customer=>{// Toggle selection when clicking on already selected customer\nif(selectedCustomer&&selectedCustomer.id===customer.id){setSelectedCustomer(null);}else{setSelectedCustomer(customer);}};const handleCancel=()=>{setSelectedCustomer(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Customer Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(CustomerList,{customers:customers,onSelect:handleSelectCustomer,selectedCustomer:selectedCustomer}),/*#__PURE__*/_jsx(CustomerForm,{selectedCustomer:selectedCustomer,onSave:customer=>{if(selectedCustomer){handleUpdateCustomer(_objectSpread(_objectSpread({},selectedCustomer),customer));}else{handleAddCustomer(customer);}},onDelete:handleDeleteCustomer,onCancel:handleCancel})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","CustomerForm","CustomerList","getCustomers","addCustomer","updateCustomer","deleteCustomer","jsx","_jsx","jsxs","_jsxs","App","customers","setCustomers","selectedCustomer","setSelectedCustomer","fetchCustomers","data","handleAddCustomer","customer","newCustomer","handleUpdateCustomer","updatedCustomer","id","map","c","handleDeleteCustomer","filter","handleSelectCustomer","handleCancel","className","children","onSelect","onSave","_objectSpread","onDelete","onCancel"],"sources":["/Users/n0096336/Downloads/FullStack/capstone2/customer-management-app/src/components/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CustomerForm from './CustomerForm';\nimport CustomerList from './CustomerList';\nimport { getCustomers, addCustomer, updateCustomer, deleteCustomer } from '../services/customerService';\nimport '../styles/styles.css';\n\nconst App = () => {\n    const [customers, setCustomers] = useState([]);\n    const [selectedCustomer, setSelectedCustomer] = useState(null);\n\n    useEffect(() => {\n        const fetchCustomers = async () => {\n            const data = await getCustomers();\n            setCustomers(data);\n        };\n        fetchCustomers();\n    }, []);\n\n    const handleAddCustomer = async (customer) => {\n        const newCustomer = await addCustomer(customer);\n        setCustomers([...customers, newCustomer]);\n    };\n\n    const handleUpdateCustomer = async (customer) => {\n        // Use the customer's id to update the correct customer\n        const updatedCustomer = await updateCustomer(customer.id, customer);\n        setCustomers(customers.map(c => (c.id === customer.id ? updatedCustomer : c)));\n        setSelectedCustomer(null);\n    };\n\n    const handleDeleteCustomer = async (id) => {\n        await deleteCustomer(id);\n        setCustomers(customers.filter(c => c.id !== id));\n        setSelectedCustomer(null);\n    };\n\n    const handleSelectCustomer = (customer) => {\n        // Toggle selection when clicking on already selected customer\n        if (selectedCustomer && selectedCustomer.id === customer.id) {\n            setSelectedCustomer(null);\n        } else {\n            setSelectedCustomer(customer);\n        }\n    };\n\n    const handleCancel = () => {\n        setSelectedCustomer(null);\n    };\n\n    return (\n        <div className=\"app\">\n            <h1>Customer Management</h1>\n            <div className=\"container\">\n                <CustomerList \n                    customers={customers} \n                    onSelect={handleSelectCustomer} \n                    selectedCustomer={selectedCustomer} \n                />\n                <CustomerForm \n                    selectedCustomer={selectedCustomer} \n                    onSave={(customer) => {\n                        if (selectedCustomer) {\n                            handleUpdateCustomer({...selectedCustomer, ...customer});\n                        } else {\n                            handleAddCustomer(customer);\n                        }\n                    }}\n                    onDelete={handleDeleteCustomer} \n                    onCancel={handleCancel} \n                />\n            </div>\n        </div>\n    );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}